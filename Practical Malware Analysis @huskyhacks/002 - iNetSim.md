INetSim is a software suite for **simulating common internet services in a lab environment**, e.g. for analyzing the network behaviour of unknown malware samples.

For our lab environment we will use REMnux as a iNetSim for analyzing malware traffic.

![[Pasted image 20221105154824.png]]

![[Pasted image 20221105154845.png]]

### Using iNetSim

-> For this first go to the remnux VM and open the inetsim config file
```bash
sudo nano /etc/inetsim/inetsim.conf
```

-> Open the configuration file and remove the comment from dns

![[Pasted image 20221105155759.png]]

-> Now scroll down on the config file and change the "service_bind_address" to "0.0.0.0". This is a shorthand ip address assignment for all interfaces so this will bind to all interfaces on the host

![[Pasted image 20221105160058.png]]

-> Scroll down to "Service DNS" and change the dns_default_ip to the REMnux Host

![[Pasted image 20221105160329.png]]

-> Save and Close the file

-> Now start the iNetSim using the `inetsim` command in REMnux

![[Pasted image 20221105160544.png]]

-> Go to the Flare-VM and search for `view network connections` a open the ethernet properties

![[Pasted image 20221105161112.png]]
-> Now Click on `Internet Protocol version 4` and set preffered DNS server as the ip of REMnux

![[Pasted image 20221105161323.png]]

-> Click on Ok and close the tabs

-> Now Open Chrome and search for anything and it will serve the iNetSim default HTML page

![[Pasted image 20221105161604.png]]

This will help us to track the malware where the request is send and also protect us from download payloads