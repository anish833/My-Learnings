### What is Pivoting
Pivoting is the unique technique of using an instance (also referred to as a ‘plant’ or ‘foothold’) to be able to move around inside a network. Basically using the first compromise to allow and even aid in the compromise of other otherwise inaccessible systems

For pivoting we have one machine sittinng at 192.168.247.130 and is also in the subnet of 10.10.10.0/24 where another machine is sitting at 10.10.10.128

So first get a shell in the 192.168.247.130 machine, get a shell and type
```bash
arp -a
```

![[Pasted image 20210730094119.png]]

you can see that this machine is communicating with 10.10.10.128 machine so lets pivot
type `use post/multi/manage/autoroute`  and mention the session and type the subnet, in our case its 10.10.10.0 and run

![[Pasted image 20210730094409.png]]

Now it will set a route to 10.10.10.0 from your attacker machine
Now interact with the session type `sessions -i 1` and see if the shell exists. Now background the shell and run `auxiliary/scanner/portscan/tcp`

From this mention the RHOST as the 10.10.10.128 machine and ports you want to scan and run. You can see that 445 is open and detected so we are now in 10.10.10.0/24 network

![[Pasted image 20210730094715.png]]